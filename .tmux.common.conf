#utf setting
set-window-option -g utf8 on
set-window-option -g automatic-rename off
# 256色ターミナル
set-option -g default-terminal "screen-256color"

#Set the prefix to ^J.
unbind C-b
set -g prefix ^J
bind C-j send-prefix

# zshellを使う
set-option -g default-shell /bin/zsh

# canything をつかう
# http://filmlang.org/soft/canything
# $ git clone git://github.com/keiji0/canything
# Macの場合 Makefileの lncursesw -> lncurses に変更したあと make
unbind \;
bind-key \; split-window 'tmux lsw | canything | cut -d":" -f 1 | xargs tmux select-window -t'
bind \; split-window 'tmux lsw | canything | cut -d":" -f 1 | xargs tmux select-window -t'

## 既定の割り当てとして「Prefix - c」でウィンドウが作成できるが
## Prefix - Ctrl+cでも作成できるようにする
unbind ^C
bind ^C new-window
bind c new-window

## Prefix - Ctrl+wでウィンドウ一覧選択を表示
unbind ^W
bind ^W choose-window

## Prefix - Ctrl+kで先ほどアクティブだったウィンドウを表示
unbind ^K
bind ^K last-window

## Prefix - Ctrl+n でも次のウィンドウへ移動
unbind ^P
bind ^P next-window



## Prefix - [Ctrl+t(もしくはCtrl+Tab)とCtrl+y]でペイン切り替え
unbind ^O
bind ^O swap-pane
bind o swap-pane

## ウィンドウ番号を1から開始
set-option -g base-index 1

## マウスクリックでペイン選択
set-option -g mouse-select-pane on

## メッセージ表示時間(既定値は1000?)
set-option -g display-time 2000

## バッファ上限数(既定値は9で0番-8番)
set-option -g buffer-limit 32

## window split
bind-key | split-window -h

# Keybind
# ウィンドウの破棄
unbind k
bind k confirm-before "kill-window"
# ペインの破棄
unbind K
bind K confirm-before "kill-pane"

# Bind appropriate commands similar to screen.
# lockscreen ^X x
# unbind ^X
# bind ^X lock-server
# unbind x
# bind x lock-server

# detach ^D d
unbind ^D
bind ^D detach

# displays *
unbind *
bind * list-clients

# # next ^@ ^N sp n
# unbind ^@
# bind ^@ next-window
# unbind ^N
# bind ^N next-window
# unbind " "
# bind " " next-window
# unbind n
# bind n next-window

# # title A
# unbind A
# bind A command-prompt "rename-window %%"

# コピーモードにCntl+[でもはいれるように。
unbind ^"["
bind -r ^"[" copy-mode
unbind ^]
bind -r ^] paste-buffer

# other ^A
unbind ^A
bind ^A last-window

# # prev ^H ^P p ^?
# unbind BSpace
# bind BSpace previous-window

# windows ^W w
unbind ^W
bind ^W list-windows
unbind w
bind w list-windows

# サーバをキルする
unbind \
bind \ confirm-before "kill-server"

# kill K k
unbind K
bind K confirm-before "kill-window"
unbind k
bind k confirm-before "kill-window"

# # redisplay ^R r
# unbind ^R
# bind ^R refresh-client
# unbind r
# bind r refresh-client

# # split -v |
# unbind |
# bind | split-window

# # :kB: focus up
# unbind Tab
# bind Tab select-pane -t :.-
# unbind BTab
# bind BTab select-pane -t :.+
# unbind ^H
# bind ^H select-pane -t :.-
# unbind h
# bind ^h select-pane -t :.-
# unbind ^L
# bind ^L select-pane -t :.+
# unbind l
# bind l select-pane -t :.+

# # " windowlist -b
# unbind '"'
# bind '"' choose-window
